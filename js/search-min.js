function rd(){var t=window.location.href;(t=t.split("#")[1])&&69==t.length&&"Q"==t.charAt(0)&&($("#searchID").html("<small>Address</small><br>"+t),$.ajax({url:"http://104.251.219.215:8080/api/address/"+t,success:function(e,a,r){$("#balance").text(e.state.balance),$("#nonce").text(e.state.nonce),$("#transactions").text(e.state.transactions);var s=$(window).width(),n=1;s>640&&(n=2),s>660&&(n=3),s>680&&(n=4),s>700&&(n=5),s>720&&(n=6),s>740&&(n=7),s>760&&(n=8),s>780&&(n=9),s>800&&(n=10),s>820&&(n=11),s>840&&(n=12),s>860&&(n=12),s>880&&(n=12),s>900&&(n=12),s>920&&(n=12),s>940&&(n=14),s>1040&&(n=20),s>1180&&(n=32),s>1300&&(n=36),s>1420&&(n=40),s>1520&&(n=48),s>1620&&(n=52),s>1720&&(n=56),s>1820&&(n=60),s>1920&&(n=0);var o=$("#TransT").DataTable();o.clear(),_.each(e.transactions,function(e){drawTransRow(n,e.timestamp,e.amount,e.txhash,e.block,e.txfrom,e.txto,e.fee,t)}),o.columns.adjust().draw(!0),$("#TransT").width("100%")}}))}function drawTransRow(t,e,a,r,s,n,o,i,l){var c=moment.unix(e),d="";d=l==n?t<3?'<div style="text-align: center"><i class="sign out icon"></i></div>':'<div style="text-align: center">Sent <i class="sign out icon"></i></div>':t<3?'<div style="text-align: center"><i class="sign in icon"></i></td></div>':'<div style="text-align: center"><i class="sign in icon"></i> Received</td></div>';var h="";h=t<3?moment(c).format("HH:mm")+"...":moment(c).format("HH:mm D MMM YYYY");var m=$("#TransT").DataTable();t>0?m.row.add([r.substring(0,t)+"...",s,h,n.substring(0,t)+"...",d,o.substring(0,t)+"...",a,i,r,n,o]):m.row.add([r,s,moment(c).format("HH:mm D MMM YYYY"),n,d,o,a,i,r,n,o])}function isInt(t){var e=parseFloat(t);return!isNaN(t)&&(0|e)===e}$(document).ready(function(){$("#TransT").DataTable({select:!0,paging:!1,info:!1,searching:!1,lengthChange:!1,autoWidth:!1,responsive:!0,order:[[1,"dec"],[3,"dec"]],columnDefs:[{orderable:!1,targets:0},{orderable:!1,targets:1},{orderable:!1,targets:2},{orderable:!1,targets:3},{orderable:!1,targets:4},{orderable:!1,targets:5},{orderable:!1,targets:6},{targets:[7],visible:!0,searchable:!1,width:0},{targets:[8],visible:!1,searchable:!1,width:0},{targets:[9],visible:!1,searchable:!1,width:0},{targets:[10],visible:!1,searchable:!1,width:0}],rowReorder:{enable:!1}}),$("#Saddress").hide(),$("#Shash").hide();var t=window.location.href;if(t=t.split("#")[1],console.log(t),t&&(isInt(t)&&(console.log("likely a block number"),window.location="http://104.251.219.215:8080/api/block_data/"+t),64==t.length&&(console.log("search string is likely a txhash"),$("#searchID").html("<small>TXHASH</small><br>"+t),$.ajax({url:"http://104.251.219.215:8080/api/txhash/"+t,success:function(t,e,a){if("Error"==t.status)console.log("Error: "+t.error),$("#searchID").append("<br><br><small>Error: "+t.error+"</small>");else{$("#PartiesTo").text(t.txto),$("#PartiesTo").click(function(){doSearch($(this).text())}),$("#PartiesFrom").text(t.txfrom),$("#PartiesFrom").click(function(){doSearch($(this).text())}),$("#Txblock").text(t.block),$("#Txamount").text(t.amount),$("#Txfee").text(t.fee),$("#Txtype").text(t.type);var r=moment.unix(t.timestamp);$("#Txtime").text(moment(r).format("HH:mm D MMM YYYY")),$("#PK").html("PK:<blockquote>"+t.PK[0]+"<br>"+t.PK[1]+"</blockquote>");const s=t.pub,n=new JSONFormatter(s);$("#PK").append(n.render()),$(".json-formatter-constructor-name").first().text("Pub"),$(".loader").hide(),$(".dimmer").hide(),$("#Shash").show()}}})),69==t.length&&"Q"==t.charAt(0))){$("#searchID").html("<small>Address</small><br>"+t);var e=new QRCode(document.getElementById("qrcode"),{text:t,width:100,height:100,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});console.log("search string is likely an address"),$.ajax({url:"http://104.251.219.215:8080/api/address/"+t,success:function(e,a,r){$(".loader").hide(),$(".dimmer").hide(),$("#Saddress").show(),$("#TransT").show(),$("#balance").text(e.state.balance),$("#nonce").text(e.state.nonce),$("#transactions").text(e.state.transactions);var s=$(window).width(),n=1;s>640&&(n=2),s>660&&(n=3),s>680&&(n=4),s>700&&(n=5),s>720&&(n=6),s>740&&(n=7),s>760&&(n=8),s>780&&(n=9),s>800&&(n=10),s>820&&(n=11),s>840&&(n=12),s>860&&(n=12),s>880&&(n=12),s>900&&(n=12),s>920&&(n=12),s>940&&(n=14),s>1040&&(n=20),s>1180&&(n=32),s>1300&&(n=36),s>1420&&(n=40),s>1520&&(n=48),s>1620&&(n=52),s>1720&&(n=56),s>1820&&(n=60),s>1920&&(n=0),_.each(e.transactions,function(e){drawTransRow(n,e.timestamp,e.amount,e.txhash,e.block,e.txfrom,e.txto,e.fee,t)}),$("#TransT").DataTable().columns.adjust().draw(!0),$("#TransT").width("100%")}})}$(window).bind("resize",function(){$("#TransT").css("width","100%"),$("#TransT").DataTable().columns.adjust().draw(!0),rd()})});