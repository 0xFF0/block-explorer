<template name="lasttx">

<h4 class="ui pageHeader header">
  <div class="content">
    Latest Transactions
  </div>
</h4>
{{#with lasttx}} {{#if zeroCheck}}
<div class="ui negative message">
  <i class="close icon"></i>
  <div class="header">
    No transactions yet
  </div>
</div>
{{else}}
  {{#each lasttx.transactions}}
    {{#if isConfirmed this.tx.confirmed}}

      <!-- Confirmed Txn -->
      {{#if isTransfer this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/send.png" />
        <div class="content">
          <div class="header">
             {{ts}}
          </div>
          Transfer | Block <a href="/block/{{block}}">{{block}}</a>
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
          <a href="/tx/{{tx_hash}}">{{amount}}<br><small>Quanta</small></a>
        </div>
      </div>
      {{/if}}

      {{#if isTokenCreation this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/send.png" />
        <div class="content">
          <div class="header">
            {{ts}}
          </div>
          Token Creation - ({{this.tx.tokenSymbol}}) | Block <a href="/block/{{block}}">{{block}}</a>
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
           <a href="/tx/{{tx_hash}}">{{this.tx.tokenSymbol}}<br><small>Creation</small></a>
        </div>
      </div>
      {{/if}}

      {{#if isTokenTransfer this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/send.png" />
        <div class="content">
          <div class="header">
            {{ts}}
          </div>
          Token Transfer - ({{this.tx.tokenSymbol}}) | Block <a href="/block/{{block}}">{{block}}</a>
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
          <a href="/tx/{{tx_hash}}">{{amount}} {{this.tx.tokenSymbol}}</a>
        </div>
      </div>
      {{/if}}

      {{#if isCoinbaseTxn this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/receive.png" />
        <div class="content">
          <div class="header">
             {{ts}}
          </div>
          Coinbase Received | Block <a href="/block/{{block}}">{{block}}</a>
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
          <a href="/tx/{{tx_hash}}">{{this.amount}}<br><small>Quanta</small></a>
        </div>
      </div>
      {{/if}}

      {{#if isSlaveTxn this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/send.png" />
        <div class="content">
          <div class="header">
            {{ts}}
          </div>
          Slave Transaction | Block <a href="/block/{{block}}">{{block}}</a>
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
          <a href="/tx/{{tx_hash}}">View<br>Transaction</a>
        </div>
      </div>
      {{/if}}

      {{#if isLatticePKTxn this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/send.png" />
        <div class="content">
          <div class="header">
            {{ts}}
          </div>
          Lattice Public Key | Block <a href="/block/{{block}}">{{block}}</a>
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
          <a href="/tx/{{tx_hash}}">View<br>Transaction</a>
        </div>
      </div>
      {{/if}}

    {{else}}
      <!-- Unconfirmed Txn -->

      {{#if isTransfer this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/send.png" />
        <div class="content">
          <div class="header">
            Unconfirmed | <small>First Seen: {{ts}}</small>
          </div>
          Transfer
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
          <a href="/tx/{{tx_hash}}">{{amount}} Quanta</a>
        </div>
      </div>
      {{/if}}

      {{#if isTokenCreation this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/send.png" />
        <div class="content">
          <div class="header">
            Unconfirmed
          </div>
          Token Creation - ({{this.tx.tokenSymbol}})
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
           <a href="/tx/{{tx_hash}}">{{this.tx.tokenSymbol}}<br><small>Creation</small></a>
        </div>
      </div>
      {{/if}}

      {{#if isTokenTransfer this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/send.png" />
        <div class="content">
          <div class="header">
            Unconfirmed
          </div>
          Token Transfer - ({{this.tx.tokenSymbol}})
          <p class="transactionAddress">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
          <a href="/tx/{{tx_hash}}">{{amount}}<br><small>{{this.tx.tokenSymbol}}</small></a>
        </div>
      </div>
      {{/if}}

      {{#if isSlaveTxn this.tx.transactionType}}
      <div class="ui icon message transactionRecord">
        <img class="transactionTypeImage" src="/img/icons/receive.png" />
        <div class="content">
          <div class="header">
            Unconfirmed
          </div>
          Slave Transaction
          <p class="transactionAddress value">
            {{tx_hash}}
          </p>
        </div>
        <div class="floatright ta-c">
          <a href="/tx/{{tx_hash}}">View<br>Transaction</a>
        </div>
      </div>
      {{/if}}

    {{/if}}

  {{/each}}
{{/if}} {{/with}}


</template>